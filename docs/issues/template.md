# 系统模板重构思路
随着制图系统的需求越来越多，产品的配置也越来越复杂，如：地图配置、图例配置、图例样式、尺寸模板、配色方案等等。之前是把这些配置都放在了单个产品的配置其它项里，而且单个产品配置里还加入了“附加资源”的概念，这个概念也加入到了“系统资源”里，这些概念加起来会让用户越来越混淆，所以现在打算把整体的配置思路重构。

## 整个系统的分层
* 数据
* 图例
* 地图
* 元素布局

上面的四层把整个系统分离，其实“地图”和“元素布局”也可以放在一层，但为了目前的操作习惯暂时分离。

### 元素布局
目前为此的分层中“数据”和“图例”已经很完善，“地图”也是一个单独的模块，现在的重点是把“元素布局”重构，思路如下：

#### 包含的元素
* 标题
* 图片
* 图例（也是一个种图片）
* 尺寸
* 背景色、背景图片

#### 重构步骤
1. 左侧是主操作区，在侧是具体的配置参数（显示名称、尺寸、背景色、背景图片、是否使用图例）
1. 主操作区右键添加文字及图片，对文字或图片资源进行位置调整
1. 保存

## 显示端处理逻辑
为了保证现用的assets思路不受影响，要封装一个整合模板和assets的接口
1. 没有使用模板时assets及其它元素处理逻辑不变
1. 使用模板时，用模板对assets进行过滤重置
	> 地图操作区显示的assets，模板文字只可修改内容，图片暂时不支持修改
1. 地图操作区还可以手动添加其它的元素
